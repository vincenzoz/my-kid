<div class="flex flex-col pb-2" [class]="this.sectionConfig.config().bgColor">
  <div class="flex p-4 pb-1 items-center min-h-15" [class]="this.sectionConfig.config().text">
    <i class="pi pi-chevron-left"></i>
    <span class="ml-2 font-semibol" (click)="goBack()">Indietro</span>
    @if (mode() === 'create' || mode() === 'edit') {
      <div *ngIf="communicationForm()!.valid" class="ml-auto btn"
           (click)="saveOrModify()">{{ mode() === 'create' ? 'Salva' : 'Modifica' }}
      </div>
    }
  </div>

  @if (mode() === 'create' || mode() === 'edit') {
    <p
      class="pl-4 text-lg font-semibold" [class]="this.sectionConfig.config().text">{{ mode() === 'create' ? 'Nuova comunicazione' : 'Modifica comunicazione' }}</p>
  } @else if (mode() === 'view') {
    @if(schoolStore.currentCommunication().loading) {
      <p-skeleton class="pl-4 opacity-80" width="200px" height="30px"></p-skeleton>
    } @else {
      <p class="pl-4 text-lg font-semibold" [class]="this.sectionConfig.config().text">{{ schoolStore.currentCommunication().data?.title }}</p>
    }
  }
</div>

<div class="border-[1px] border-red-800"></div>
